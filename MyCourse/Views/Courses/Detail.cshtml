@using MyCourse.Models.ViewModel.Lessons
@model CourseDetailViewModel
<section>
    <div class="row">
        <div class="col-md-9">
            <h1>@Model.Title</h1>
        </div>
        <div class="col-md-3">
            <a href="#" class="btn btn-warning btn-lg btn-block">Iscriviti</a>
        </div>
    </div>
    <div class="row mt-3">
        <div class="col-md-9">
            <p>@Model.Description</p>
        </div>
        <div class="col-md-3">
            <aside>
                <author> @Model.Author</author>
                <div>
                    @for (int i = 1; i <= 5; i++)
                    {
                        if (@Model.Rating >= i)
                        {
                            <i class="bi bi-star-fill text-warning"></i>
                        }
                        else if (Model.Rating > i - 1)
                        {
                            <i class="bi bi-star-half text-warning"></i>
                        }
                        else
                        {
                            <i class="bi bi-star"></i>
                        }
                    }
                </div>
                <div class="mb-3">
                    @Model.CurrentPrice<br /> <s class="text-secondary">@Model.FullPrice</s>
                </div>
                <img src="@Model.ImagePath" width="100" />
            </aside>
        </div>
    </div>
</section>

<section>
    <h2>Lezioni (@Model.Lessons.Count)</h2>
    <hr>
    <div class="list-group">
        @foreach (LessonViewModel lesson in Model.Lessons)
        {
            <div class="row list-group-item d-flex">
                <div class="col-md-9 d-flex align-items-center">
                    <a href="#">@lesson.Name</a>
                </div>
                <div class="col-md-3 d-flex align-items-center">
                    <i class="bi bi-clock me-2"></i><time>@lesson.Duration</time>
                </div>
            </div>
        }
    </div>
</section>